/* empty css                          */import{_ as V,z as g,r as h,o as r,c,a as s,t as o,f as n,h as m}from"../main.js";import{C as y,e as f,u as w,r as _,p as C}from"./validators.31c1fb33.js";import{s as k}from"./breadcrumb.esm.2fd7e95b.js";const $="credentials",B={name:"EditCredential",mixins:[y],components:{Breadcrumb:k},setup(){return{editorModes:f,pageBase:$,v$:w()}},validationConfig:{$autoDirty:!0},data:()=>({name:"",description:"",provider:"",subscription_id:"",client_id:"",client_secret:"",tenant_id:"",id:null,submitted:!1,saving:!1}),validations(){return{name:{required:_,providerIdRegExpValidatorWMessage:C},description:{required:_},provider:{required:_},subscription_id:{required:_},client_id:{required:_},client_secret:{required:_},tenant_id:{required:_}}},methods:{async load({id:e}){var u,i,v,l,a,p;let t=(i=(u=await g.get(e))==null?void 0:u.items)!=null?i:{};Object.assign(this.$data,{id:t.id,name:t.name,description:t.desc,provider:t.provider,subscription_id:(v=t.credentials)==null?void 0:v.subscription_id,client_id:(l=t.credentials)==null?void 0:l.client_id,client_secret:(a=t.credentials)==null?void 0:a.client_secret,tenant_id:(p=t.credentials)==null?void 0:p.tenant_id})},async save(){var t,u,i,v;let e=!1;try{if(this.submitted=!0,!await this.v$.$validate())return e;this.saving=!0;const l={name:this.name,desc:this.description,provider:this.provider,credentials:{subscription_id:this.subscription_id,client_id:this.client_id,client_secret:this.client_secret,tenant_id:this.tenant_id},id:this.id};this._mode===f.CREATE?await g.create(l):await g.update(l),this.toasts&&this.$toast.add({group:"br",severity:"success",summary:this.$t(`${$}.toasts.events.${this._mode===f.CREATE?"created":"updated"}.summary`),detail:this.$t(`${$}.toasts.events.${this._mode===f.CREATE?"created":"updated"}.detail`,{name:this.name}),life:3e3}),e=!0,this.$emit("saved"),this.back()}catch(l){this.toasts&&this.$toast.add({group:"br",severity:"error",summary:this.$t("common.toasts.events.error.summary"),detail:this.$t("common.toasts.events.error.detail",{error:(v=(i=(u=(t=l==null?void 0:l.response)==null?void 0:t.data)==null?void 0:u.error)==null?void 0:i.message)!=null?v:l}),life:3e3}),this.$emit("error")}finally{this.saving=!1}return e}}},E={class:"grid grid-nogutter flex flex-column flex-1 overflow-hidden custom-scrollbars h-full edit-cred side-panel"},q={class:"grid grid-nogutter flex-1 overflow-hidden flex-column flex-nowrap"},I={class:"overflow-hidden flex-1 flex-column"},D={class:"overflow-hidden flex-1 h-full"},M={class:"overflow-auto h-full flex-1 px-4"},R={class:"flex flex-column flex-1 flex-nowrap h-full"},T={class:"col flex-1 mt-3 overflow-auto"},U={class:"grid grid-nogutter flex-column"},x={class:"col"},A={class:"grid grid-nogutter my-2"},S={class:"col col flex justify-content-start align-items-center"},N={class:"text-xl m-0 mb-3"},j={class:"col"},z={class:"formgrid grid"},W={class:"field col"},L={for:"name"},O={key:0,class:"p-error"},P={class:"formgrid grid"},F={class:"field col"},G={for:"description"},H={key:0,class:"p-error"},J={class:"formgrid grid"},K={class:"field col"},Q={for:"provider"},X={key:0,class:"p-error"},Y={class:"text-xl"},Z={class:"formgrid grid"},ee={class:"field col"},ie={for:"subscription_id"},se={key:0,class:"p-error"},te={class:"formgrid grid"},oe={class:"field col"},de={for:"client_id",class:"w-full"},le={key:0,class:"p-error"},ae={class:"formgrid grid"},ne={class:"field col"},re={for:"client_secret",class:"w-full"},ce={key:0,class:"p-error"},me={class:"formgrid grid"},_e={class:"field col"},ue={for:"tenant_id",class:"w-full"},ve={key:0,class:"p-error"},pe={class:"footer-buttons flex w-full py-5 justify-content-end"},fe={class:"grid grid-nogutter mx-2"},ge={class:"flex flex-1 mx-2"},he={class:"flex flex-1 mx-2"};function $e(e,t,u,i,v,l){const a=h("InputText"),p=h("Dropdown"),b=h("Button");return r(),c("div",E,[s("div",q,[s("div",I,[s("div",D,[s("div",M,[s("div",R,[s("div",T,[s("div",U,[s("div",x,[s("div",A,[s("div",S,[s("p",N,o(e.$t(`${i.pageBase}.${this._mode==i.editorModes.CREATE?"add":"edit"}_title`)),1)])])]),s("div",j,[s("div",z,[s("div",W,[s("label",L,o(e.$t(`${i.pageBase}.name`)),1),n(a,{autofocus:"autofocus",id:"name",class:"w-full mb-2",modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=d=>e.name=d)},null,8,["modelValue"]),i.v$.name.$invalid&&e.submitted||i.v$.name.$pending.$response?(r(),c("small",O,o(i.v$.name.required.$invalid?i.v$.name.required.$message.replace("Value","Name"):"")+" "+o(i.v$.name.providerIdRegExpValidatorWMessage.$invalid?i.v$.name.providerIdRegExpValidatorWMessage.$message:""),1)):m("",!0)])]),s("div",P,[s("div",F,[s("label",G,o(e.$t(`${i.pageBase}.description`)),1),n(a,{id:"description",class:"w-full mb-2",modelValue:e.description,"onUpdate:modelValue":t[1]||(t[1]=d=>e.description=d)},null,8,["modelValue"]),i.v$.description.$invalid&&e.submitted||i.v$.description.$pending.$response?(r(),c("small",H,o(i.v$.description.required.$message.replace("Value","Description")),1)):m("",!0)])]),s("div",J,[s("div",K,[s("label",Q,o(e.$t(`${i.pageBase}.provider`)),1),n(p,{id:"provider",class:"w-full mb-2",optionLabel:"name",optionValue:"value",placeholder:"Select provider",options:[{name:"Microsoft Azure",value:"azure"}],modelValue:e.provider,"onUpdate:modelValue":t[2]||(t[2]=d=>e.provider=d)},null,8,["modelValue"]),i.v$.provider.$invalid&&e.submitted||i.v$.provider.$pending.$response?(r(),c("small",X,o(i.v$.provider.required.$message.replace("Value","Provider")),1)):m("",!0)])]),s("p",Y,o(e.$t(`${i.pageBase}.title`)),1),s("div",Z,[s("div",ee,[s("label",ie,o(e.$t(`${i.pageBase}.subscription_id`)),1),n(a,{id:"subscription_id",class:"w-full mb-2",modelValue:e.subscription_id,"onUpdate:modelValue":t[3]||(t[3]=d=>e.subscription_id=d)},null,8,["modelValue"]),i.v$.subscription_id.$invalid&&e.submitted||i.v$.subscription_id.$pending.$response?(r(),c("small",se,o(i.v$.subscription_id.required.$message.replace("Value","Subscription ID")),1)):m("",!0)])]),s("div",te,[s("div",oe,[s("label",de,o(e.$t(`${i.pageBase}.client_id`)),1),n(a,{id:"client_id",class:"w-full mb-2",modelValue:e.client_id,"onUpdate:modelValue":t[4]||(t[4]=d=>e.client_id=d)},null,8,["modelValue"]),i.v$.client_id.$invalid&&e.submitted||i.v$.client_id.$pending.$response?(r(),c("small",le,o(i.v$.client_id.required.$message.replace("Value","Client ID")),1)):m("",!0)])]),s("div",ae,[s("div",ne,[s("label",re,o(e.$t(`${i.pageBase}.client_secret`)),1),n(a,{id:"client_secret",class:"w-full mb-2",modelValue:e.client_secret,"onUpdate:modelValue":t[5]||(t[5]=d=>e.client_secret=d)},null,8,["modelValue"]),i.v$.client_secret.$invalid&&e.submitted||i.v$.client_secret.$pending.$response?(r(),c("small",ce,o(i.v$.client_secret.required.$message.replace("Value","Client Secret")),1)):m("",!0)])]),s("div",me,[s("div",_e,[s("label",ue,o(e.$t(`${i.pageBase}.tenant_id`)),1),n(a,{id:"tenant_id",class:"w-full mb-2",modelValue:e.tenant_id,"onUpdate:modelValue":t[6]||(t[6]=d=>e.tenant_id=d)},null,8,["modelValue"]),i.v$.tenant_id.$invalid&&e.submitted||i.v$.tenant_id.$pending.$response?(r(),c("small",ve,o(i.v$.tenant_id.required.$message.replace("Value","Tenant ID")),1)):m("",!0)])])])])]),s("div",pe,[s("div",fe,[s("div",ge,[n(b,{label:e.$t("common.cancel"),icon:"pi pi-times",class:"p-button-secondary",disabled:e.saving,onClick:e.cancel},null,8,["label","disabled","onClick"])]),s("div",he,[n(b,{label:e.$t("common.save"),icon:"pi pi-check",class:"p-button-success",loading:e.saving,onClick:l.save},null,8,["label","loading","onClick"])])])])])])])])])])}var Ce=V(B,[["render",$e],["__scopeId","data-v-15591202"]]);export{Ce as default};
