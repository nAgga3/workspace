var K=Object.defineProperty,Q=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;var j=(e,t,a)=>t in e?K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,M=(e,t)=>{for(var a in t||(t={}))Z.call(t,a)&&j(e,a,t[a]);if(N)for(var a of N(t))ee.call(t,a)&&j(e,a,t[a]);return e},x=(e,t)=>Q(e,X(t));/* empty css                          */import{_ as V,a6 as te,r as D,o as g,e as q,c as b,a as i,f as r,n as se,t as d,F as z,d as ie,G as C,i as ae,h as $,w as A,A as P,B as L,k as oe,p as ne,m as le}from"../main.js";import{C as de,e as H,u as re,r as k,p as me}from"./validators.31c1fb33.js";import{s as ue}from"./breadcrumb.esm.2fd7e95b.js";import{D as h,d as p,a as O,I as R,f as ce}from"./DateTimeHelper.43d380e0.js";import{v as G}from"./v4.90f1a8cc.js";const w=Object.freeze({ACCESSHOURS:"accessHours",STARTSTOP:"startStop",BOTH:"both"}),W=Object.freeze({[w.ACCESSHOURS]:"Access Hours",[w.STARTSTOP]:"Start/Stop",[w.BOTH]:"Both"});Object.freeze({[w.ACCESSHOURS]:"accessHours",[w.STARTSTOP]:"startStop",[w.BOTH]:"both"});const y=Object.freeze({MONDAY:0,TUESDAY:1,WEDNESDAY:2,THURSDAY:3,FRIDAY:4,SATURDAY:5,SUNDAY:6}),Y=Object.freeze({[y.MONDAY]:"mon",[y.TUESDAY]:"tue",[y.WEDNESDAY]:"wed",[y.THURSDAY]:"thu",[y.FRIDAY]:"fri",[y.SATURDAY]:"sat",[y.SUNDAY]:"sun"});Object.freeze({FROM:0,TO:1});const he="ScheduleTimePicker",pe={name:"ScheduleTimePicker",props:{disabledRanges:{type:Array,default:[]},hiddenRanges:{type:Array,default:[]},interval:{type:Number,default:10},date:{type:String,default:""},startAt:{type:String,default:null},endAt:{type:String,default:null},isEndRange:{type:Boolean,default:!1},relativeTo:{type:String,default:null},maxDuration:{type:Number,default:60*2},time:{type:String,default:null},focusToNearestTime:{type:Boolean,default:!1},focusToTime:{type:String,default:null},minutesInterval:{type:Number,default:15},isoTime:{type:Boolean,default:!1},verbose:{default:!1}},data(){return{focusTime:null}},setup(){return{pageBase:he}},emits:["update:time","onInvalidTime"],components:{Dropdown:te},computed:{_time:{get(){var e;return(e=this.times.find(t=>t.time==this.time))!=null?e:null},set(e){this.$emit("update:time",e.time)}},_selectedTime:{get(){var e;return this._time||((e=this.times.find(t=>t.time==this.focusTime))!=null?e:null)},set(e){this._time=e}},_startAt(){if(this.startAt){let e=h.fromFormat(this.startAt,p.HHMM);return O.fromObject({hours:e.hour,minutes:e.minute})}return null},_endAt(){if(this.endAt){let e=h.fromFormat(this.endAt,p.HHMM);return O.fromObject({hours:e.hour,minutes:e.minute})}return null},_relativeTo(){if(this.relativeTo){let e=h.fromISO(this.relativeTo);return O.fromObject({hours:e.hour,minutes:e.minute})}return null},disabledIntervals(){let e=[];return e=this.disabledRanges.map(t=>R.fromDateTimes(t.start,t.end)),e},hiddenIntervals(){let e=[];return e=this.hiddenRanges.map(t=>R.fromDateTimes(t.start,t.end)),e},times(){var m,u,I,S,T;let t=[];this.isEndRange&&this._relativeTo?this._relativeTo.as("minutes")+this._minutesInterval:(u=(m=this._startAt)==null?void 0:m.as("minutes"))!=null,(S=(I=this._endAt)==null?void 0:I.as("minutes"))!=null||this.isEndRange&&this.relativeTo&&this.maxDuration&&this._relativeTo.as("minutes")+this.maxDuration+1;let a=this.date?h.fromFormat(this.date,p.YYMMDD):h.local(),s=!1,c=a.startOf("day").plus((T=this._relativeTo)!=null?T:O.fromObject({minutes:0})).plus({minutes:this.isEndRange?this._minutesInterval:0}),o=this.isEndRange?this.maxDuration:a.endOf("day").diff(c).as("minutes"),l=0;for(var v=0;l<o&&!s;v++){let _=c.plus({minutes:l}),n=Math.floor(c.until(_.endOf("day")).length("days")),f=_.diff(c,["minutes","days","hours"]),E=`${_.toFormat(p.HHMM)}${n>0?` (+${n})`:""}`;this.isEndRange&&this.verbose&&(E=[...f.days?[this.$t(`components.${this.pageBase}.${this.verbose===!0?"days":"short_days"}`,{days:parseInt(f.days)})]:[],...f.hours?[this.$t(`components.${this.pageBase}.${this.verbose===!0?"hours":"short_hours"}`,{hours:parseInt(f.hours)})]:[],...f.minutes?[this.$t(`components.${this.pageBase}.${this.verbose===!0?"minutes":"short_minutes"}`,{mins:parseInt(f.minutes)})]:[]].join(", "));const F=this.disabledIntervals.some(B=>B.contains(_)),J=this.hiddenIntervals.some(B=>B.contains(_));s=F&&this.isEndRange,s||(t.push({time:_.toISO(),label:E,disabled:F,hidden:J}),l+=this._minutesInterval)}return t=t.filter(_=>!_.hidden),t},_minutesInterval(){return this.minutesInterval>=1?this.minutesInterval:15}},watch:{times(){this.checkTime()}},mounted(){this.checkTime()},methods:{checkTime(){var e,t;this.time&&((t=(e=this.times.find(a=>a.time==this.time))==null?void 0:e.disabled)!=null?t:!0)&&(this.$emit("update:time",null),this.$emit("onInvalidTime",this.time))},onBeforeShow(){var e,t;try{let a=h.local(),s=this.date?h.fromFormat(this.date,p.YYMMDD):null;s&&(a=a.set({year:s.year,month:s.month,day:s.day})),this.focusToNearestTime&&(this.focusTime=(t=(e=this.times.find(c=>h.fromISO(c.time).diff(a).as("minutes")>=0))==null?void 0:e.time)!=null?t:null)}catch{this.focusTime=null}},onBeforeHide(){this.focusTime=null}}};function fe(e,t,a,s,c,o){const l=D("Dropdown");return g(),q(l,{modelValue:o._selectedTime,"onUpdate:modelValue":t[0]||(t[0]=v=>o._selectedTime=v),options:o.times,optionLabel:"label",editable:!1,optionDisabled:"disabled",placeholder:e.$t(`components.${this.pageBase}.select_time`),onBeforeShow:o.onBeforeShow,onBeforeHide:o.onBeforeHide},null,8,["modelValue","options","placeholder","onBeforeShow","onBeforeHide"])}var ve=V(pe,[["render",fe]]);const ye="ScheduleHourItem",ge={name:"ScheduleHourItem",components:{ScheduleTimePicker:ve},props:{id:{type:String,default:null},weekday:{type:Number,default:null},invalid:{type:Boolean,default:!1},hourFrom:{type:String,default:"00:00"},hourTo:{type:String,default:"00:00"},disabledDays:{type:Array,default:[]},hiddenTimesPerDay:{type:Array,default:[]},disabledTimesPerDay:{type:Array,default:[]},minutesInterval:{type:Number,default:15},maxDuration:{type:Number,default:60*2},range:{type:Object,default:{}}},setup(){return{pageBase:ye}},emits:["onInvalidWeekday","onInvalidTime","remove"],data(){return{_weekdays:[{id:y.MONDAY,label:"Monday"},{id:y.TUESDAY,label:"Tuesday"},{id:y.WEDNESDAY,label:"Wednesday"},{id:y.THURSDAY,label:"Thursday"},{id:y.FRIDAY,label:"Friday"},{id:y.SATURDAY,label:"Saturday"},{id:y.SUNDAY,label:"Sunday"}]}},emits:["update:weekday","update:hourFrom","update:hourTo"],computed:{weekdays(){return this._weekdays.map(e=>x(M({},e),{disabled:this.disabledDays.includes(e.id)}))},weekDates(){var t;let e=(t=this.range)!=null&&t.start?h.fromFormat(this.range.start,p.YYMMDD):h.local().startOf("day");return new Array(7).fill({}).map((a,s)=>{let c=e.plus({days:s});return{day:c.weekdayShort,datetime:c}})},_weekDayDate(){var e;return(e=this.weekDates.find(t=>{var a;return t.day.toLowerCase()==((a=Y[this.weekday])==null?void 0:a.toLowerCase())}))==null?void 0:e.datetime.toFormat(p.YYMMDD)},_weekday:{get(){return this.weekday},set(e){this.$emit("update:weekday",e)}},_hourFrom:{get(){return this.hourFrom},set(e){this.$emit("update:hourFrom",e)}},_hourTo:{get(){return this.hourTo},set(e){this.$emit("update:hourTo",e)}},hiddenTimes(){var e;return((e=this.hiddenTimesPerDay.find(t=>t.day===this.weekday))==null?void 0:e.times)||[]},disabledTimes(){var e;return((e=this.disabledTimesPerDay.find(t=>t.day===this.weekday))==null?void 0:e.times)||[]}},watch:{weekdays(){var a;const e=this.weekday;let t=(a=this.weekdays.find(s=>s.id===this.weekday))==null?void 0:a.disabled;this._weekday=t?null:this.weekday,t&&this.$emit("onInvalidWeekday",e)},weekday(){this._hourFrom=null,this._hourTo=null}},methods:{onInvalidTime(e){this.$emit("onInvalidTime",e)}}},_e={class:"col-12 my-1 sched-hour-item"},be={class:"field"},De={class:"field"},Ie={class:"field"},Se={class:"remove-btn"};function Te(e,t,a,s,c,o){const l=D("Dropdown"),v=D("schedule-time-picker"),m=D("Button");return g(),b("div",_e,[i("div",be,[r(l,{options:o.weekdays,class:se(["py-0",{"p-invalid":a.invalid}]),optionLabel:"label",optionValue:"id",optionDisabled:"disabled",modelValue:o._weekday,"onUpdate:modelValue":t[0]||(t[0]=u=>o._weekday=u),placeholder:e.$t(`components.${this.pageBase}.select_day`)},null,8,["options","class","modelValue","placeholder"])]),i("label",null,d(e.$t(`components.${this.pageBase}.from`)),1),i("div",De,[r(v,{time:o._hourFrom,"onUpdate:time":t[1]||(t[1]=u=>o._hourFrom=u),class:"py-0",date:o._weekDayDate,"disabled-ranges":o.disabledTimes,"hidden-ranges":o.hiddenTimes,"focus-to-nearest-time":!1,"minutes-interval":a.minutesInterval,onOnInvalidTime:o.onInvalidTime},null,8,["time","date","disabled-ranges","hidden-ranges","minutes-interval","onOnInvalidTime"])]),i("label",null,d(e.$t(`components.${this.pageBase}.to`)),1),i("div",Ie,[r(v,{time:o._hourTo,"onUpdate:time":t[2]||(t[2]=u=>o._hourTo=u),class:"py-0",date:o._weekDayDate,isEndRange:!0,relativeTo:o._hourFrom,"disabled-ranges":o.disabledTimes,"hidden-ranges":o.hiddenTimes,"minutes-interval":a.minutesInterval,"max-duration":a.maxDuration,onOnInvalidTime:o.onInvalidTime},null,8,["time","date","relativeTo","disabled-ranges","hidden-ranges","minutes-interval","max-duration","onOnInvalidTime"])]),i("div",Se,[r(m,{onClick:t[3]||(t[3]=u=>e.$emit("remove",this.id)),icon:"thin-cancel",class:"p-button cancel-hour"})])])}var $e=V(ge,[["render",Te]]);const ke={name:"ScheduleHours",props:{hours:{type:Array,default:[]},limitedTimes:{type:Array,default:[]},disabledDates:{type:Array,default:[]},range:{type:Object,default:{}},minutesInterval:{type:Number,default:15},maxDuration:{type:Number,default:60*2}},data(){return{_hours:[]}},mounted(){},computed:{disabledDays(){let e=this.disabledDates.map(t=>h.fromFormat(t,p.YYMMDDHHMMSS)).reduce((t,a)=>[...t,...t.includes(a.weekdayLong)?[]:[a.weekdayLong]],[]);return e=e.map(t=>y[t.toUpperCase()]),e},limitedTimesIntervals(){return this.limitedTimes.filter(e=>!e.bookid.includes("expiredtime")&&!e.bookid.includes("exceptions")).map(e=>({unavailable:e.bookid.includes("unavailable"),interval:R.fromDateTimes(e.start,e.end)}))},limitedIntervalsUnavailable(){return this.limitedTimesIntervals.filter(e=>e.unavailable)},limitedIntervalsBooked(){return this.limitedTimesIntervals.filter(e=>!e.unavailable)},bookedTimesPerDay(){return this.limitedIntervalsBooked.reduce(this.limitedReducer,[])},hiddenTimesPerDay(){return this.limitedIntervalsUnavailable.reduce(this.limitedReducer,[])}},emits:["onInvalidWeekday","onInvalidTime","onInvalidRange","update:hours"],components:{ScheduleHourItem:$e},watch:{hours:{deep:!0,immediate:!0,handler(e){this._hours=e,this._hours.length==0&&this.addScheduleItem()}},_hours:{deep:!0,handler(e){this.checkHours(e),this.$emit("update:hours",e)}}},methods:{addScheduleItem(){this._hours.push({id:G(),day:null,range:{from:null,to:null}})},removeScheduleItem(e){this._hours.length>1&&(this._hours=this._hours.filter(t=>t.id!==e))},limitedReducer(e,t){let a=e.find(s=>s.day==y[t.interval.start.weekdayLong.toUpperCase()]);return a||(a={day:y[t.interval.start.weekdayLong.toUpperCase()],times:[]},e.push(a)),a.times.push({start:t.interval.start,end:t.interval.end}),e},checkHours(e){let t=e.filter(s=>s.day!=null&&s.range.from!=null&&s.range.to!=null).sort((s,c)=>((o,l)=>o<l?-1:l==o?0:1)(this.toMinutes(s.day,s.range.from),this.toMinutes(c.day,c.range.from))),a=1;for(;a<t.length&&this.toMinutes(t[a].day,t[a].range.from)>=this.toMinutes(t[a-1].day,t[a-1].range.to);)a++;a<t.length&&this.onInvalidRange()},toMinutes(e,t){return(a=>(e*24+parseInt(a[0]))*60+parseInt(a[1]))(t.split(":"))},onInvalidWeekday(e){this.$emit("onInvalidWeekday",e)},onInvalidTime(e){this.$emit("onInvalidTime",e)},onInvalidRange(){this.$emit("onInvalidRange")}}},we={class:"pt-1 pb-3 px-0 sched-hours"},Ae={class:"flex"};function Me(e,t,a,s,c,o){const l=D("schedule-hour-item"),v=D("Button");return g(),b(z,null,[i("div",we,[(g(!0),b(z,null,ie(c._hours,m=>(g(),q(l,{onRemove:o.removeScheduleItem,key:m.id,id:m.id,weekday:m.day,"onUpdate:weekday":u=>m.day=u,invalid:m.invalid,"onUpdate:invalid":u=>m.invalid=u,"hour-from":m.range.from,"onUpdate:hour-from":u=>m.range.from=u,"hour-to":m.range.to,"onUpdate:hour-to":u=>m.range.to=u,"disabled-days":o.disabledDays,"hidden-times-per-day":o.hiddenTimesPerDay,"disabled-times-per-day":o.bookedTimesPerDay,range:a.range,onOnInvalidWeekday:o.onInvalidWeekday,onOnInvalidTime:o.onInvalidTime,maxDuration:a.maxDuration,minutesInterval:a.minutesInterval},null,8,["onRemove","id","weekday","onUpdate:weekday","invalid","onUpdate:invalid","hour-from","onUpdate:hour-from","hour-to","onUpdate:hour-to","disabled-days","hidden-times-per-day","disabled-times-per-day","range","onOnInvalidWeekday","onOnInvalidTime","maxDuration","minutesInterval"]))),128))]),i("div",Ae,[r(v,{onClick:o.addScheduleItem,class:"add-schedule",label:"Add Schedule",icon:"thin-plus"},null,8,["onClick"])])],64)}var Be=V(ke,[["render",Me]]);const U="schedules",He={name:"EditSchedule",mixins:[de],components:{Breadcrumb:ue,ScheduleHours:Be},setup(){return{editorModes:H,pageBase:U,v$:re()}},data:()=>{const t=h.local().plus({hours:1}).set({minute:0,second:0,millisecond:0});return{name:"",description:"",provisioning:{initialInstances:5,lazyInstances:1,maxInstances:20},times:{mode:w.ACCESSHOURS,createAt:t.toFormat(p.YYMMDDHHMMSS),destroyAt:t.plus({days:1}).toFormat(p.YYMMDDHHMMSS),margins:{start:5,stop:5},hours:[],exceptDates:[]},exceptDate:null,id:null,submitted:!1,saving:!1}},validations(){return{name:{required:k,providerIdRegExpValidatorWMessage:me},description:{required:k},provisioning:{initialInstances:{required:k},lazyInstances:{required:k},maxInstances:{required:k}},times:{mode:{required:k},createAt:{required:k},destroyAt:{required:k},margins:{start:{required:k},stop:{required:k}}}}},methods:{async load({id:e}){var s,c,o,l;let t=(c=(s=await C.get(e))==null?void 0:s.items)!=null?c:{},a=[];(l=(o=t.times)==null?void 0:o.hours)==null||l.forEach(v=>{let m=h.fromISO(v.start),u=m.plus({minutes:v.minutes});a.push({id:G(),day:parseInt(Object.keys(Y).find(I=>Y[I]===m.weekdayShort.toLowerCase()),10),range:{from:m.toISO(),to:u.toISO()},invalid:!1})}),Object.assign(this.$data,{id:t.id,name:t.name,description:t.desc,provisioning:M({},t.provisioning),times:{margins:M({},t.times.margins),mode:t.times.mode,createAt:h.fromISO(t.times.createAt,p.YYMMDDHHMMSS).toFormat(p.YYMMDDHHMMSS),destroyAt:h.fromISO(t.times.destroyAt,p.YYMMDDHHMMSS).toFormat(p.YYMMDDHHMMSS),hours:a,exceptDates:t.times.exceptDates}})},async save(){var t,a,s,c,o;let e=!1;try{if(this.submitted=!0,!await this.v$.$validate())return this.v$,e;this.saving=!0;const l=h.fromFormat(this.times.createAt,p.YYMMDDHHMMSS),v=h.fromFormat(this.times.destroyAt,p.YYMMDDHHMMSS),m=[];let u=[];if(((t=this.times.hours)==null?void 0:t.length)>0){let S=v.diff(l,"days").days,T=S<=7?Math.floor(S):7;u=new Array(T).fill({}).map((_,n)=>{let f=l.plus({days:n});return{day:f.weekdayShort,datetime:f}})}this.times.hours.forEach(S=>{var _;let T=(_=u.find(n=>{var f;return n.day.toLowerCase()==((f=Y[S.day])==null?void 0:f.toLowerCase())}))==null?void 0:_.datetime;if(T){let n=h.fromISO(S.range.from),f=h.fromISO(S.range.to).diff(n,"minutes").minutes;n=n.set({year:T.year,month:T.month,day:T.day}),m.push({start:n.toUTC().toISO(),minutes:f})}});const I={name:this.name,desc:this.description,provisioning:this.provisioning,times:x(M({},this.times),{createAt:l.toUTC().toISO(),destroyAt:v.toUTC().toISO(),mode:this.times.mode,hours:m}),id:this.id};this._mode===H.CREATE?await C.create(I):await C.update(I),this.toasts&&this.$toast.add({group:"br",severity:"success",summary:this.$t(`${U}.toasts.events.${this._mode===H.CREATE?"created":"updated"}.summary`),detail:this.$t(`${U}.toasts.events.${this._mode===H.CREATE?"created":"updated"}.detail`,{name:this.name}),life:3e3}),e=!0,this.$emit("saved"),this.back()}catch(l){this.toasts&&this.$toast.add({group:"br",severity:"error",summary:this.$t("common.toasts.events.error.summary"),detail:this.$t("common.toasts.events.error.detail",{error:(o=(c=(s=(a=l==null?void 0:l.response)==null?void 0:a.data)==null?void 0:s.error)==null?void 0:c.message)!=null?o:l}),life:3e3}),this.$emit("error")}finally{this.saving=!1}return e},exceptDateClick({date:e}){this.times.exceptDates.push(ce(e,{zone:"local"}).toUTC().toISO()),this.$refs.exceptDatesPicker.hidePopover()},deleteDate(e){this.times.exceptDates=this.times.exceptDates.filter(t=>t!==e.iso)}},computed:{timesModes(){return Object.keys(W).map(e=>({id:e,name:W[e]}))},range:{get(){return{start:this.times.createAt,end:this.times.destroyAt}},set(e){this.times.createAt=e==null?void 0:e.start,this.times.destroyAt=e==null?void 0:e.end}},exceptDatesF(){return this.times.exceptDates.map(t=>h.fromISO(t)).map(t=>({date:t.toFormat(p.HHMMSS)=="00:00:00"?t.toFormat(p.YYMMDD):`${t.toFormat(p.YYMMDDHHMMSS)} (+24hs)`,iso:t.toUTC().toISO()}))}}},Oe=e=>(ne("data-v-7a297a06"),e=e(),le(),e),Ye={class:"grid grid-nogutter flex flex-column flex-1 overflow-hidden custom-scrollbars h-full edit-cred side-panel"},Ve={class:"grid grid-nogutter flex-1 overflow-hidden flex-column flex-nowrap"},xe={class:"overflow-hidden flex-1 flex-column"},Ce={class:"overflow-hidden flex-1 h-full"},Ue={class:"overflow-auto h-full flex-1 px-4"},Re={class:"flex flex-column flex-1 flex-nowrap h-full"},Ee={class:"col flex-1 mt-3 overflow-auto"},Fe={class:"grid grid-nogutter flex-column"},Ne={class:"col"},je={class:"grid grid-nogutter my-2"},ze={class:"col col flex justify-content-start align-items-center"},Pe={class:"text-xl m-0 mb-3"},Le={class:"col"},We={class:"formgrid grid"},qe={class:"field col"},Ge={for:"name"},Je={key:0,class:"p-error"},Ke={class:"formgrid grid"},Qe={class:"field col"},Xe={for:"description"},Ze={key:0,class:"p-error"},et={class:"text-xl"},tt={class:"formgrid grid"},st={class:"field col"},it={for:"initialInstances"},at={key:0,class:"p-error"},ot={class:"formgrid grid"},nt={class:"field col"},lt={for:"lazyInstances"},dt={key:0,class:"p-error"},rt={class:"formgrid grid"},mt={class:"field col"},ut={for:"maxInstances"},ct={key:0,class:"p-error"},ht={class:"text-xl"},pt={class:"formgrid grid"},ft={class:"field col"},vt={for:"createAt"},yt={key:0,class:"p-error"},gt={class:"formgrid grid"},_t={class:"field col"},bt={for:"destroyAt"},Dt={key:0,class:"p-error"},It={class:"formgrid grid"},St={class:"field col"},Tt={for:"startBefore"},$t={key:0,class:"p-error"},kt={class:"formgrid grid"},wt={class:"field col"},At={for:"stopAfter"},Mt={key:0,class:"p-error"},Bt={class:"text-xl"},Ht={class:"formgrid grid"},Ot={class:"field col"},Yt={for:"mode"},Vt={key:0,class:"p-error"},xt={class:"text-base"},Ct={class:"text-base mt-5"},Ut={class:"flex justify-content-between align-items-center"},Rt=Oe(()=>i("span",{class:"text-base ml-1"},null,-1)),Et={class:"flex flex-1 justify-content-center py-3"},Ft={class:"text-center line-height-3"},Nt={class:"col-12"},jt={class:"footer-buttons flex w-full py-5 justify-content-end"},zt={class:"grid grid-nogutter mx-2"},Pt={class:"flex flex-1 mx-2"},Lt={class:"flex flex-1 mx-2"};function Wt(e,t,a,s,c,o){const l=D("InputText"),v=D("v-date-picker"),m=D("Dropdown"),u=D("ScheduleHours"),I=D("Button"),S=D("Column"),T=D("DataTable"),_=ae("tooltip");return g(),b("div",Ye,[i("div",Ve,[i("div",xe,[i("div",Ce,[i("div",Ue,[i("div",Re,[i("div",Ee,[i("div",Fe,[i("div",Ne,[i("div",je,[i("div",ze,[i("p",Pe,d(e.$t(`${s.pageBase}.${this._mode==s.editorModes.CREATE?"add":"edit"}_title`)),1)])])]),i("div",Le,[i("div",We,[i("div",qe,[i("label",Ge,d(e.$t(`${s.pageBase}.name`)),1),r(l,{autofocus:"autofocus",id:"name",class:"w-full mb-2",modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=n=>e.name=n)},null,8,["modelValue"]),s.v$.name.$invalid&&e.submitted||s.v$.name.$pending.$response?(g(),b("small",Je,d(s.v$.name.required.$invalid?s.v$.name.required.$message.replace("Value","Name"):"")+" "+d(s.v$.name.providerIdRegExpValidatorWMessage.$invalid?s.v$.name.providerIdRegExpValidatorWMessage.$message:""),1)):$("",!0)])]),i("div",Ke,[i("div",Qe,[i("label",Xe,d(e.$t(`${s.pageBase}.description`)),1),r(l,{id:"description",class:"w-full mb-2",modelValue:e.description,"onUpdate:modelValue":t[1]||(t[1]=n=>e.description=n)},null,8,["modelValue"]),s.v$.description.$invalid&&e.submitted||s.v$.description.$pending.$response?(g(),b("small",Ze,d(s.v$.description.required.$message.replace("Value","Description")),1)):$("",!0)])]),i("p",et,d(e.$t(`${s.pageBase}.provisioning.title`)),1),i("div",tt,[i("div",st,[i("label",it,d(e.$t(`${s.pageBase}.provisioning.initialInstances`)),1),r(l,{id:"initialInstances",class:"w-full mb-2",modelValue:e.provisioning.initialInstances,"onUpdate:modelValue":t[2]||(t[2]=n=>e.provisioning.initialInstances=n)},null,8,["modelValue"]),s.v$.provisioning.initialInstances.$invalid&&e.submitted||s.v$.provisioning.initialInstances.$pending.$response?(g(),b("small",at,d(s.v$.provisioning.initialInstances.required.$message.replace("Value","Initial Instances")),1)):$("",!0)])]),i("div",ot,[i("div",nt,[i("label",lt,d(e.$t(`${s.pageBase}.provisioning.lazyInstances`)),1),r(l,{id:"lazyInstances",class:"w-full mb-2",modelValue:e.provisioning.lazyInstances,"onUpdate:modelValue":t[3]||(t[3]=n=>e.provisioning.lazyInstances=n)},null,8,["modelValue"]),s.v$.provisioning.lazyInstances.$invalid&&e.submitted||s.v$.provisioning.lazyInstances.$pending.$response?(g(),b("small",dt,d(s.v$.provisioning.lazyInstances.required.$message.replace("Value","Lazy Instances")),1)):$("",!0)])]),i("div",rt,[i("div",mt,[i("label",ut,d(e.$t(`${s.pageBase}.provisioning.maxInstances`)),1),r(l,{id:"maxInstances",class:"w-full mb-2",modelValue:e.provisioning.maxInstances,"onUpdate:modelValue":t[4]||(t[4]=n=>e.provisioning.maxInstances=n)},null,8,["modelValue"]),s.v$.provisioning.maxInstances.$invalid&&e.submitted||s.v$.provisioning.maxInstances.$pending.$response?(g(),b("small",ct,d(s.v$.provisioning.maxInstances.required.$message.replace("Value","Max Instances")),1)):$("",!0)])]),i("p",ht,d(e.$t(`${s.pageBase}.details.title`)),1),r(v,{popover:{visibility:"focus",placement:"top"},columns:e.$screens({default:1,lg:2}),"min-date":new Date,"input-debounce":500,masks:{input:"YYYY-MM-DD"},"model-config":{type:"string",mask:"YYYY-MM-DD HH:mm:ss"},mode:"dateTime",is24hr:"",class:"",modelValue:o.range,"onUpdate:modelValue":t[5]||(t[5]=n=>o.range=n),"is-range":""},{default:A(({inputValue:n,inputEvents:f})=>[i("div",pt,[i("div",ft,[i("label",vt,d(e.$t(`${s.pageBase}.details.createAt`)),1),r(l,P({class:"w-full flex",value:n.start},L(f.start)),null,16,["value"]),s.v$.times.createAt.$invalid&&e.submitted||s.v$.times.createAt.$pending.$response?(g(),b("small",yt,d(s.v$.times.createAt.required.$message.replace("Value","Create at")),1)):$("",!0)])]),i("div",gt,[i("div",_t,[i("label",bt,d(e.$t(`${s.pageBase}.details.destroyAt`)),1),r(l,P({class:"w-full flex",value:n.end},L(f.end)),null,16,["value"]),s.v$.times.destroyAt.$invalid&&e.submitted||s.v$.times.destroyAt.$pending.$response?(g(),b("small",Dt,d(s.v$.times.destroyAt.required.$message.replace("Value","Destroy at")),1)):$("",!0)])])]),_:1},8,["columns","min-date","modelValue"]),i("div",It,[i("div",St,[i("label",Tt,d(e.$t(`${s.pageBase}.details.startBefore`)),1),r(l,{id:"startBefore",class:"w-full mb-2",modelValue:e.times.margins.start,"onUpdate:modelValue":t[6]||(t[6]=n=>e.times.margins.start=n)},null,8,["modelValue"]),s.v$.times.margins.start.$invalid&&e.submitted||s.v$.times.margins.start.$pending.$response?(g(),b("small",$t,d(s.v$.times.margins.start.required.$message.replace("Value","Margins Start")),1)):$("",!0)])]),i("div",kt,[i("div",wt,[i("label",At,d(e.$t(`${s.pageBase}.details.stopAfter`)),1),r(l,{id:"stopAfter",class:"w-full mb-2",modelValue:e.times.margins.stop,"onUpdate:modelValue":t[7]||(t[7]=n=>e.times.margins.stop=n)},null,8,["modelValue"]),s.v$.times.margins.stop.$invalid&&e.submitted||s.v$.times.margins.stop.$pending.$response?(g(),b("small",Mt,d(s.v$.times.margins.stop.required.$message.replace("Value","Margins Stop")),1)):$("",!0)])]),i("p",Bt,d(e.$t(`${s.pageBase}.hours.title`)),1),i("div",Ht,[i("div",Ot,[i("label",Yt,d(e.$t(`${s.pageBase}.details.mode`)),1),r(m,{id:"mode",class:"w-full mb-2",optionValue:"id",optionLabel:"name",placeholder:"Select Mode",options:o.timesModes,modelValue:e.times.mode,"onUpdate:modelValue":t[8]||(t[8]=n=>e.times.mode=n),disabled:e._readOnly},null,8,["options","modelValue","disabled"]),s.v$.times.mode.$invalid&&e.submitted||s.v$.times.mode.$pending.$response?(g(),b("small",Vt,d(s.v$.times.mode.required.$message.replace("Value","Mode")),1)):$("",!0)])]),i("p",xt,d(e.$t(`${s.pageBase}.hours.scheduleTitle`)),1),r(u,{class:"p-0 m-0",hours:e.times.hours,"onUpdate:hours":t[9]||(t[9]=n=>e.times.hours=n),"max-duration":60*24},null,8,["hours"]),i("p",Ct,d(e.$t(`${s.pageBase}.exceptionDates.title`)),1),r(T,{class:"mt-2 custom-scrollbars p-datatable-sm nohead mb-2",scrollable:!0,scrollHeight:"15rem",value:o.exceptDatesF,responsiveLayout:"scroll",rowClass:()=>"cursor-pointer"},{header:A(()=>[i("div",Ut,[Rt,r(v,{popover:{placement:"left"},onDayclick:o.exceptDateClick,ref:"exceptDatesPicker",modelValue:e.exceptDate,"onUpdate:modelValue":t[10]||(t[10]=n=>e.exceptDate=n)},{default:A(({togglePopover:n})=>[r(I,{class:"p-button-sm flex",label:e.$t(`${s.pageBase}.exceptionDates.add_date`),onClick:n},null,8,["label","onClick"])]),_:1},8,["onDayclick","modelValue"])])]),empty:A(()=>[i("div",Et,[i("div",Ft,[i("div",Nt,[i("span",null,d(e.$t(`${s.pageBase}.exceptionDates.empty`)),1)])])])]),default:A(()=>[r(S,{field:"date",header:"Date",headerStyle:"flex: 1 1 100%",bodyStyle:"flex: 1 1 100%",sortable:!0}),r(S,null,{body:A(n=>[oe(r(I,{icon:"thin-trash",class:"p-button-link text-sm m-0 p-0",onClick:f=>o.deleteDate(n.data)},null,8,["onClick"]),[[_,e.$t(`${s.pageBase}.exceptionDates.remove_tooltip`),void 0,{top:!0}]])]),_:1})]),_:1},8,["value","rowClass"])])])]),i("div",jt,[i("div",zt,[i("div",Pt,[r(I,{label:e.$t("common.cancel"),icon:"pi pi-times",class:"p-button-secondary",disabled:e.saving,onClick:e.cancel},null,8,["label","disabled","onClick"])]),i("div",Lt,[r(I,{label:e.$t("common.save"),icon:"pi pi-check",class:"p-button-success",loading:e.saving,onClick:o.save},null,8,["label","loading","onClick"])])])])])])])])])])}var es=V(He,[["render",Wt],["__scopeId","data-v-7a297a06"]]);export{es as default};
